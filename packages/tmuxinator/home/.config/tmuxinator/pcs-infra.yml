# pcs-infra.yml
<% 
  require "#{File.dirname(path)}/tmuxinator_project.rb"
  project = TmuxinatorProject.new(path: path, repo: 'pcs.infra').setup # path is a value from Tmuxinator
  collections_dir = Pathname.new(Dir.home).join('.ansible/collections/ansible_collections/pcs/infra')
  project.symlink(from: collections_dir, to: project.root) if collections_dir.parent.exist?
%>

name: <%= project.name %>
root: <%= project.root %>

# Global settings
attach: true
tmux_command: tmux

windows:
  - playbooks:
      root: <%= project.subdir('playbooks') %>
      layout: <%= project.layout(:even_horizontal) %>
      panes:
        -
        - nvim .
  - roles:
      root: <%= project.subdir('roles') %>
      layout: <%= project.layout(:claude) %>
      panes:
        - claude
        - 
        - nvim .
